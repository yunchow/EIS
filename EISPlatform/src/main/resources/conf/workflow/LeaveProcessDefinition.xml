<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE fpdl:WorkflowProcess PUBLIC "-//Nieyun Chen//ProcessDefinition//CN" "FireFlow_Process_Definition_Language.dtd">

<fpdl:WorkflowProcess xmlns:fpdl="http://www.fireflow.org/Fireflow_Process_Definition_Language" Id="LeaveProcessDefinition" Name="LeaveProcessDefinition" DisplayName="LeaveProcessDefinition" ResourceFile="" ResourceManager="">
    <fpdl:DataFields>
        <fpdl:DataField Id="LeaveProcessDefinition.leaveDays" Name="leaveDays" DisplayName="请假天数" DataType="INTEGER" InitialValue="1"/>
        <fpdl:DataField Id="LeaveProcessDefinition.isApproved" Name="isApproved" DisplayName="是否批准" DataType="BOOLEAN" InitialValue="false"/>
    </fpdl:DataFields>
    <fpdl:StartNode Id="LeaveProcessDefinition.START_NODE" Name="START_NODE" DisplayName="">
        <fpdl:ExtendedAttributes>
            <fpdl:ExtendedAttribute Name="FIRE_FLOW.bounds.width" Value="20"/>
            <fpdl:ExtendedAttribute Name="FIRE_FLOW.bounds.x" Value="51"/>
            <fpdl:ExtendedAttribute Name="FIRE_FLOW.bounds.y" Value="105"/>
            <fpdl:ExtendedAttribute Name="FIRE_FLOW.bounds.height" Value="20"/>
        </fpdl:ExtendedAttributes>
    </fpdl:StartNode>
    <fpdl:Tasks/>
    <fpdl:Activities>
        <fpdl:Activity Id="LeaveProcessDefinition.apply" Name="apply" DisplayName="申请" CompletionStrategy="ALL">
            <fpdl:ExtendedAttributes>
                <fpdl:ExtendedAttribute Name="FIRE_FLOW.bounds.width" Value="100"/>
                <fpdl:ExtendedAttribute Name="FIRE_FLOW.bounds.x" Value="127"/>
                <fpdl:ExtendedAttribute Name="FIRE_FLOW.bounds.y" Value="95"/>
                <fpdl:ExtendedAttribute Name="FIRE_FLOW.bounds.height" Value="60"/>
            </fpdl:ExtendedAttributes>
            <fpdl:Tasks>
                <fpdl:Task Id="LeaveProcessDefinition.apply.fillApplyForm" Name="fillApplyForm" DisplayName="填写申请单" Type="FORM" CompletionStrategy="ANY" DefaultView="VIEWFORM" Priority="1" LoopStrategy="REDO">
                    <fpdl:Performer Name="currentUser" DisplayName="当前用户">
                        <fpdl:Description></fpdl:Description>
                        <fpdl:AssignmentHandler>org.fireflow.example.leaveapplication.workflowextension.CurrentUserAssignmentHandler</fpdl:AssignmentHandler>
                    </fpdl:Performer>
                    <fpdl:EditForm Name="ApplyForm" DisplayName="填写申请信息表单">
                        <fpdl:Description></fpdl:Description>
                        <fpdl:Uri>/applyForm.jsp</fpdl:Uri>
                    </fpdl:EditForm>
                </fpdl:Task>
            </fpdl:Tasks>
            <fpdl:TaskRefs/>
        </fpdl:Activity>
    </fpdl:Activities>
    <fpdl:EndNodes/>
</fpdl:WorkflowProcess>
